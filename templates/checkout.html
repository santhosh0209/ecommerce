{% extends "base.html" %} {% load crispy_forms_tags %} {% block content %}

<main>
    <div class="container wow fadeIn">
        <h2 class=" h2 text-center">Checkout form</h2>
        <div class="row">
            <div class="col-md-2 mb-4">

            </div>
            <div class="col-md-8 mb-4">
                <div class="card">
                    <form method="POST" class="card-body">
                        {% csrf_token %} {% include "order_snippet.html" %}

                        <hr class="mb-4">
                        <button class="btn btn-primary btn-lg btn-block" type="submit">Continue to checkout</button>

                    </form>

                </div>

            </div>

            <div class="col-md-4 mb-4">

            </div>

        </div>

    </div>
</main>

{% endblock content %} {% block extra_scripts %}
<script>
    var hideable_shipping_form = $('.hideable_shipping_form');
    var hideable_billing_form = $('.hideable_billing_form');

    var use_default_shipping = document.querySelector("input[name=use_default_shipping]");
    var use_default_billing = document.querySelector("input[name=use_default_billing]");

    use_default_shipping.addEventListener('change', function() {
        if (this.checked) {
            hideable_shipping_form.hide();
        } else {
            hideable_shipping_form.show();
        }
    })

    use_default_billing.addEventListener('change', function() {
        if (this.checked) {
            hideable_billing_form.hide();
        } else {
            hideable_billing_form.show();
        }
    })
</script>
{% endblock extra_scripts %}